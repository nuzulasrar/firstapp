{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport axios from \"axios\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nvar Stack = createNativeStackNavigator();\n\nvar RegistrationScreen2 = function RegistrationScreen2() {\n  return React.createElement(NavigationContainer, null, React.createElement(Stack.Navigator, null, React.createElement(Stack.Screen, {\n    component: RegistrationScreen,\n    name: \"RegistrationScreen\",\n    options: {\n      headerShown: false\n    }\n  }), React.createElement(Stack.Screen, {\n    component: AttendanceFunction,\n    name: \"Atttendance\"\n  })));\n};\n\nvar RegistrationScreen = function RegistrationScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isSubmit = _useState6[0],\n      setIsSubmit = _useState6[1];\n\n  useEffect(function () {\n    var authenticate = function authenticate() {\n      return _regeneratorRuntime.async(function authenticate$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              axios.post(\"https://staff.ucyp.edu.my/STAFF_UCYP/login/login_reactnative.php\", JSON.stringify({\n                username: username,\n                password: password\n              })).then(function (response) {\n                setIsSubmit(false);\n\n                if (response.data.result == \"logged in\") {\n                  navigation.navigate(\"Atttendance\", {\n                    nama: response.data.nama,\n                    id: response.data.idinfostaf\n                  });\n                } else {\n                  alert(response.data.result);\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    if (isSubmit) authenticate();\n  }, [isSubmit]);\n\n  var usernameHandler = function usernameHandler(text) {\n    setUsername(text);\n  };\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: {\n      uri: \"https://www.ucyp.edu.my/wp-content/uploads/2018/06/xlogo-UCYP-02-3.png.pagespeed.ic_.xhDmre2uYj.png\"\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Username\",\n    autoCapitalize: \"none\",\n    style: styles.inputStyle,\n    onChangeText: usernameHandler\n  }), React.createElement(TextInput, {\n    placeholder: \"Password\",\n    autoCapitalize: \"none\",\n    style: styles.inputStyle,\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    }\n  }), React.createElement(View, {\n    style: {\n      margin: 10,\n      width: \"35%\",\n      fontSize: 50\n    }\n  }, React.createElement(Button, {\n    color: \"#FB695A\",\n    style: styles.buttonStyle,\n    title: \"Log In\",\n    onPress: function onPress() {\n      return setIsSubmit(true);\n    }\n  })));\n};\n\nvar AttendanceFunction = function AttendanceFunction(_ref2) {\n  var route = _ref2.route,\n      navigation = _ref2.navigation;\n  var nama = route.params.nama;\n  var idinfostaf = route.params.idinfostaf;\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      checkclockin = _useState8[0],\n      setCheckclockin = _useState8[1];\n\n  var _useState9 = useState(\"...checking\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      butangTitle = _useState10[0],\n      setButangTitle = _useState10[1];\n\n  useEffect(function () {\n    var authenticate3 = function authenticate3() {\n      return _regeneratorRuntime.async(function authenticate3$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              axios.post(\"https://staff.ucyp.edu.my/STAFF_UCYP/login/staffattendancecheck_reactnative.php\", JSON.stringify({\n                id: route.params.id\n              })).then(function (response) {\n                setCheckclockin(false);\n                alert(response.data.statusCode + response.data.idinfostaf + response.data.clockin);\n\n                if (response.data.statusCode == 1) {\n                  setButangTitle(\"CLOCK OUT\");\n                } else {\n                  setButangTitle(\"CLOCK IN\");\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    if (checkclockin) authenticate3();\n  }, [checkclockin]);\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isClockedin = _useState12[0],\n      setIsisClockedin = _useState12[1];\n\n  useEffect(function () {\n    var authenticate2 = function authenticate2() {\n      return _regeneratorRuntime.async(function authenticate2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              axios.post(\"https://staff.ucyp.edu.my/STAFF_UCYP/login/staffattendance_reactnative.php\", JSON.stringify({\n                id: route.params.id\n              })).then(function (response) {\n                setIsisClockedin(false);\n\n                if (response.data.statusCode == 1) {\n                  alert(response.data.statusCode);\n                } else {\n                  alert(\"API error. Please Contact IT Admin\");\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    if (isClockedin) authenticate2();\n  }, [isClockedin]);\n\n  var _useState13 = useState(new Date().toLocaleString()),\n      _useState14 = _slicedToArray(_useState13, 2),\n      dt = _useState14[0],\n      setDt = _useState14[1];\n\n  useEffect(function () {\n    var secTimer = setInterval(function () {\n      setDt(new Date().toLocaleString());\n    }, 1000);\n    return function () {\n      return clearInterval(secTimer);\n    };\n  }, []);\n  return React.createElement(SafeAreaView, {\n    style: styles.container\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: {\n      uri: \"https://www.ucyp.edu.my/wp-content/uploads/2018/06/xlogo-UCYP-02-3.png.pagespeed.ic_.xhDmre2uYj.png\"\n    }\n  }), React.createElement(View, null, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontSize: 23,\n      textAlign: \"center\"\n    }\n  }, nama, \" \", \"\\n\"), React.createElement(Text, {\n    style: styles.colorr\n  }, dt)), React.createElement(View, {\n    style: {\n      margin: 10,\n      width: \"35%\",\n      fontSize: 50\n    }\n  }, React.createElement(Button, {\n    style: styles.buttonStyle,\n    title: butangTitle,\n    onPress: function onPress() {\n      return setIsisClockedin(true);\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#000\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  logo: {\n    height: 104,\n    width: 274\n  },\n  inputStyle: {\n    width: \"80%\",\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n    backgroundColor: \"#fff\",\n    borderBottomColor: \"#fff\",\n    borderTopColor: \"#fff\",\n    borderLeftColor: \"#fff\",\n    borderRightColor: \"#fff\",\n    borderBottomWidth: 1,\n    borderTopWidth: 1,\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    borderRadius: 5,\n    marginBottom: 5\n  },\n  buttonStyle: {\n    height: 40,\n    width: \"70%\",\n    backgroundColor: \"green\",\n    borderRadius: 10\n  },\n  colorr: {\n    color: \"white\",\n    fontSize: 23,\n    textAlign: \"center\"\n  }\n});\nexport default RegistrationScreen2;","map":{"version":3,"sources":["C:/Users/alira/Desktop/reactnative/firstapp/RegistrationScreen.js"],"names":["StatusBar","React","useState","useEffect","axios","NavigationContainer","createNativeStackNavigator","SafeAreaView","Stack","RegistrationScreen2","RegistrationScreen","headerShown","AttendanceFunction","navigation","username","setUsername","password","setPassword","isSubmit","setIsSubmit","authenticate","post","JSON","stringify","then","response","data","result","navigate","nama","id","idinfostaf","alert","catch","err","console","log","usernameHandler","text","styles","container","logo","uri","inputStyle","margin","width","fontSize","buttonStyle","route","params","checkclockin","setCheckclockin","butangTitle","setButangTitle","authenticate3","statusCode","clockin","isClockedin","setIsisClockedin","authenticate2","Date","toLocaleString","dt","setDt","secTimer","setInterval","clearInterval","color","textAlign","colorr","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","height","borderWidth","padding","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor","borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderRadius","marginBottom"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  Button,\r\n  Pressable,\r\n  Alert,\r\n  TextInput,\r\n  AppRegistry,\r\n} from \"react-native\";\r\nimport axios from \"axios\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst RegistrationScreen2 = () => {\r\n  return (\r\n    <NavigationContainer>\r\n      <Stack.Navigator>\r\n        <Stack.Screen\r\n          component={RegistrationScreen}\r\n          name=\"RegistrationScreen\"\r\n          options={{ headerShown: false }}\r\n        />\r\n        <Stack.Screen component={AttendanceFunction} name=\"Atttendance\" />\r\n      </Stack.Navigator>\r\n    </NavigationContainer>\r\n  );\r\n};\r\n\r\nconst RegistrationScreen = ({ navigation }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const authenticate = async () => {\r\n      axios\r\n        .post(\r\n          \"https://staff.ucyp.edu.my/STAFF_UCYP/login/login_reactnative.php\",\r\n          JSON.stringify({\r\n            username: username,\r\n            password: password,\r\n          })\r\n        )\r\n        .then((response) => {\r\n          setIsSubmit(false);\r\n          //navigate users based on the response\r\n          if (response.data.result == \"logged in\") {\r\n            navigation.navigate(\"Atttendance\", {\r\n              nama: response.data.nama,\r\n              id: response.data.idinfostaf,\r\n            });\r\n            //alert(response.data.nama);\r\n          } else {\r\n            // console.log(response.data);\r\n            alert(response.data.result);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    if (isSubmit) authenticate();\r\n  }, [isSubmit]);\r\n\r\n  const usernameHandler = (text) => {\r\n    //validations\r\n    setUsername(text);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* <Text style={styles.colorr}>UCYP</Text> */}\r\n      <Image\r\n        style={styles.logo}\r\n        source={{\r\n          uri: \"https://www.ucyp.edu.my/wp-content/uploads/2018/06/xlogo-UCYP-02-3.png.pagespeed.ic_.xhDmre2uYj.png\",\r\n        }}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Username\"\r\n        autoCapitalize=\"none\"\r\n        style={styles.inputStyle}\r\n        onChangeText={usernameHandler}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Password\"\r\n        autoCapitalize=\"none\"\r\n        style={styles.inputStyle}\r\n        secureTextEntry={true}\r\n        onChangeText={(text) => setPassword(text)}\r\n      />\r\n      {/* <Pressable style={styles.buttonStyle} onPress={() => setIsSubmit(true) }>\r\n                <Text style={styles.colorr}>Log In</Text>\r\n            </Pressable> */}\r\n      <View style={{ margin: 10, width: \"35%\", fontSize: 50 }}>\r\n        <Button\r\n          color=\"#FB695A\"\r\n          style={styles.buttonStyle}\r\n          title=\"Log In\"\r\n          onPress={() => setIsSubmit(true)}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst AttendanceFunction = ({ route, navigation }) => {\r\n  const { nama } = route.params;\r\n  const { idinfostaf } = route.params;\r\n\r\n  //Hook\r\n  const [checkclockin, setCheckclockin] = useState(true);\r\n  const [butangTitle, setButangTitle] = useState(\"...checking\");\r\n\r\n  useEffect(() => {\r\n    const authenticate3 = async () => {\r\n      axios\r\n        .post(\r\n          \"https://staff.ucyp.edu.my/STAFF_UCYP/login/staffattendancecheck_reactnative.php\",\r\n          JSON.stringify({\r\n            id: route.params.id,\r\n          })\r\n        )\r\n        .then((response) => {\r\n          setCheckclockin(false);\r\n          //navigate users based on the response\r\n          alert(\r\n            response.data.statusCode +\r\n              response.data.idinfostaf +\r\n              response.data.clockin\r\n          );\r\n          if (response.data.statusCode == 1) {\r\n            //alert(response.data.idinfostaf);\r\n            setButangTitle(\"CLOCK OUT\");\r\n          } else {\r\n            setButangTitle(\"CLOCK IN\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    if (checkclockin) authenticate3();\r\n  }, [checkclockin]);\r\n\r\n  const [isClockedin, setIsisClockedin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const authenticate2 = async () => {\r\n      axios\r\n        .post(\r\n          \"https://staff.ucyp.edu.my/STAFF_UCYP/login/staffattendance_reactnative.php\",\r\n          JSON.stringify({\r\n            id: route.params.id,\r\n          })\r\n        )\r\n        .then((response) => {\r\n          setIsisClockedin(false);\r\n          //navigate users based on the response\r\n          if (response.data.statusCode == 1) {\r\n            alert(response.data.statusCode);\r\n          } else {\r\n            alert(\"API error. Please Contact IT Admin\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    if (isClockedin) authenticate2();\r\n  }, [isClockedin]);\r\n\r\n  const [dt, setDt] = useState(new Date().toLocaleString());\r\n\r\n  useEffect(() => {\r\n    let secTimer = setInterval(() => {\r\n      setDt(new Date().toLocaleString());\r\n    }, 1000);\r\n\r\n    return () => clearInterval(secTimer);\r\n  }, []);\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <Image\r\n        style={styles.logo}\r\n        source={{\r\n          uri: \"https://www.ucyp.edu.my/wp-content/uploads/2018/06/xlogo-UCYP-02-3.png.pagespeed.ic_.xhDmre2uYj.png\",\r\n        }}\r\n      />\r\n      <View>\r\n        <Text style={{ color: \"white\", fontSize: 23, textAlign: \"center\" }}>\r\n          {nama} {\"\\n\"}\r\n        </Text>\r\n        <Text style={styles.colorr}>{dt}</Text>\r\n      </View>\r\n      <View style={{ margin: 10, width: \"35%\", fontSize: 50 }}>\r\n        <Button\r\n          style={styles.buttonStyle}\r\n          title={butangTitle}\r\n          onPress={() => setIsisClockedin(true)}\r\n        />\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#000\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  logo: {\r\n    height: 104,\r\n    width: 274,\r\n  },\r\n  inputStyle: {\r\n    width: \"80%\",\r\n    height: 40,\r\n    margin: 12,\r\n    borderWidth: 1,\r\n    padding: 10,\r\n    backgroundColor: \"#fff\",\r\n    borderBottomColor: \"#fff\",\r\n    borderTopColor: \"#fff\",\r\n    borderLeftColor: \"#fff\",\r\n    borderRightColor: \"#fff\",\r\n    borderBottomWidth: 1,\r\n    borderTopWidth: 1,\r\n    borderLeftWidth: 1,\r\n    borderRightWidth: 1,\r\n    borderRadius: 5,\r\n    marginBottom: 5,\r\n  },\r\n  buttonStyle: {\r\n    height: 40,\r\n    width: \"70%\",\r\n    backgroundColor: \"green\",\r\n    borderRadius: 10,\r\n  },\r\n  colorr: {\r\n    color: \"white\",\r\n    fontSize: 23,\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nexport default RegistrationScreen2;\r\n"]},"metadata":{},"sourceType":"module"}